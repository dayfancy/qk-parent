<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qk.management.mapper.OperateMapper">

    <select id="selectLogByPage" resultType="com.qk.vo.operatelog.OperateLogSelectVO"
            parameterType="com.qk.dto.operatelog.OperateLogSelectDTO">
        SELECT o.*, u.name AS operateUserName
        FROM operate_log o
        LEFT JOIN user u ON o.operate_user_id = u.id
        <where>
            <if test="operateUserName != null and operateUserName!=''">
                u.name LIKE CONCAT('%', #{operateUserName}, '%')
            </if>
        </where>
        ORDER BY o.operate_time DESC
    </select>
</mapper>